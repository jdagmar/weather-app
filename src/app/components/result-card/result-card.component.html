<div class="container">
  <div
    class="weather-card"
    *ngIf="result !== undefined && !isResultNotFound; else noCityFound"
  >
    <div class="weather-card__icon" [ngSwitch]="iconCode">
      <h2 class="weather-card__heading">{{ result.name }}</h2>
      <app-icon-thunderstorm
        *ngSwitchCase="2"
        [showMoon]="isAfterSunset"
      ></app-icon-thunderstorm>
      <app-icon-drizzle
        *ngSwitchCase="3"
        [showMoon]="isAfterSunset"
      ></app-icon-drizzle>
      <app-icon-rain
        *ngSwitchCase="5"
        [showMoon]="isAfterSunset"
      ></app-icon-rain>
      <app-icon-snow
        *ngSwitchCase="6"
        [showMoon]="isAfterSunset"
      ></app-icon-snow>
      <app-icon-atmosphere
        *ngSwitchCase="7"
        [showMoon]="isAfterSunset"
      ></app-icon-atmosphere>
      <app-icon-clouds
        *ngSwitchDefault
        [showMoon]="isAfterSunset"
      ></app-icon-clouds>
    </div>
    <p>{{ (result.weather || [])[0]?.description }}</p>
    <dl>
      <div class="weather-card__time">
        <dt>sunset</dt>
        <dd>{{ sunsetDate }}</dd>
      </div>
      <div class="weather-card__time">
        <dt>sunrise</dt>
        <dd>{{ sunriseDate }}</dd>
      </div>
    </dl>
    <p class="weather-card__temp">
      {{ result.main.temp | round }}
    </p>
  </div>

  <ng-template #noCityFound>
    <p>{{ isResultNotFound }}</p>
  </ng-template>
</div>
